const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FavoritesModal-UOLwQfpw.js","assets/mui-Do46CX0U.js","assets/vendor-DEQ385Nk.js","assets/redux-BPU-OxaI.js","assets/utils-DVma4InU.js","assets/SettingsModal-lKuQjtbv.js","assets/QuranSearch-CL8cn5Pi.js"])))=>i.map(i=>d[i]);
import{R as e,j as a,A as t,a as r,T as n,B as i,C as s,b as o,c as l,I as d,d as h,W as c,e as u,f as m,g as x,E as g,S as p,r as f,D as b,h as y,i as j,u as w,P as v,k,l as S,m as A,n as I,o as C,p as T,L as N,q as z,M as E,F as R,s as $,t as M,v as W,w as F,x as B,y as U,z as L,G as _,H as P,J as H,K as D,N as O,O as q,Q as K,U as Q,V as J,X as Y,Y as G,Z,_ as V,$ as X,a0 as ee,a1 as ae,a2 as te,a3 as re,a4 as ne,a5 as ie,a6 as se,a7 as oe}from"./mui-Do46CX0U.js";import{a as le,g as de}from"./vendor-DEQ385Nk.js";import{c as he,a as ce,u as ue,b as me,P as xe}from"./redux-BPU-OxaI.js";import{a as ge}from"./utils-DVma4InU.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const pe={},fe=function(e,a,t){let r=Promise.resolve();if(a&&a.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),n=(null==t?void 0:t.nonce)||(null==t?void 0:t.getAttribute("nonce"));r=e(a.map(e=>{if((e=function(e){return"/"+e}(e))in pe)return;pe[e]=!0;const a=e.endsWith(".css"),t=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${t}`))return;const r=document.createElement("link");return r.rel=a?"stylesheet":"modulepreload",a||(r.as="script"),r.crossOrigin="",r.href=e,n&&r.setAttribute("nonce",n),document.head.appendChild(r),a?new Promise((a,t)=>{r.addEventListener("load",a),r.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function n(e){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=e,window.dispatchEvent(a),!a.defaultPrevented)throw e}return r.then(a=>{for(const e of a||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})};var be,ye={};const je=de(function(){if(be)return ye;be=1;var e=le();return ye.createRoot=e.createRoot,ye.hydrateRoot=e.hydrateRoot,ye}()),we=e=>{try{localStorage.setItem("favorites",JSON.stringify(e))}catch(a){}},ve=he({name:"favorites",initialState:{items:(()=>{try{const e=localStorage.getItem("favorites");if(e)return JSON.parse(e);const a=Object.keys(localStorage).filter(e=>e.startsWith("favorite-")).map(e=>{try{const a=JSON.parse(localStorage.getItem(e));return localStorage.removeItem(e),a}catch(a){return localStorage.removeItem(e),null}}).filter(e=>null!==e);return a.length>0?(we(a),a):[]}catch(e){return[]}})()},reducers:{addFavorite:(e,a)=>{const t=a.payload;e.items.some(e=>e.id===t.id)||(e.items.push(t),we(e.items))},removeFavorite:(e,a)=>{const t=a.payload;e.items=e.items.filter(e=>e.id!==t),we(e.items)},updateNote:(e,a)=>{const{id:t,note:r}=a.payload,n=e.items.find(e=>e.id===t);n&&(n.note=r,we(e.items))}}}),{addFavorite:ke,removeFavorite:Se,updateNote:Ae}=ve.actions,Ie=ve.reducer,Ce="1.3.0",Te=e=>{const a={...ze};return e&&(e.ayah&&(a.ayah={...a.ayah,...e.ayah}),e.weather&&(a.weather={...a.weather,...e.weather}),e.hadith&&(a.hadith={...a.hadith,...e.hadith}),e.greetings&&(a.greetings={...a.greetings,...e.greetings}),e.tasks&&(a.tasks={...a.tasks,...e.tasks}),e.background&&(a.background={...a.background,...e.background}),e.search&&(a.search={...a.search,...e.search})),a.version=Ce,Ne(a),a},Ne=e=>{try{const a=JSON.parse(JSON.stringify(e)),t=JSON.stringify(a);t.length;localStorage.setItem("settings",t)}catch(a){if("QuotaExceededError"===a.name)try{const a={...e};a.background&&(a.background.uploadedImages=[]);const t=JSON.stringify(JSON.parse(JSON.stringify(a)));localStorage.setItem("settings",t),alert("Storage limit reached. Uploaded images have been cleared to save other settings. Please upload smaller images or fewer images.")}catch(t){alert("Storage limit exceeded. Please clear your browser data or use smaller images.")}}},ze={version:Ce,ayah:{tafsirLanguage:"english",tafsirId:"169",textEdition:{language:"en",identifier:"en.asad"},audioEdition:{identifier:"ar.alafasy",englishName:"Mishary Rashid Alafasy"}},search:{translationEdition:"en.sahih"},weather:{enabled:!0,location:{name:"Toronto",country:"Canada",admin1:"Ontario",latitude:43.65107,longitude:-79.347015},customName:"",timeFormat:"12h",temperatureUnit:"celsius"},hadith:{book:"sahih-bukhari",translationLanguage:"en"},greetings:{enabled:!0,name:"User"},tasks:{enabled:!0},background:{refreshInterval:"newtab",lastRefreshTime:null,currentImageUrl:null,fallbackImageUrl:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1920&q=80",imageSource:"category",islamicCategory:"nature",uploadedImages:[],currentUploadedImageIndex:0,blurIntensity:0,opacity:100}},Ee=he({name:"settings",initialState:(()=>{try{const e=localStorage.getItem("settings");if(!e)return null;const a=JSON.parse(e);return a.version&&a.version===Ce?a:Te(a)}catch(e){return null}})()||ze,reducers:{setTafsirLanguage(e,a){e.ayah.tafsirLanguage=a.payload,e.ayah.tafsirId="",Ne(e)},setTafsirId(e,a){e.ayah.tafsirId=a.payload,Ne(e)},setTextEditionLanguage(e,a){e.ayah.textEdition.language=a.payload,e.ayah.textEdition.identifier="",Ne(e)},setTextEditionIdentifier(e,a){e.ayah.textEdition.identifier=a.payload,Ne(e)},setAudioEdition(e,a){e.ayah.audioEdition=a.payload,Ne(e)},setSearchTranslationEdition(e,a){e.search.translationEdition=a.payload,Ne(e)},setWeatherEnabled(e,a){e.weather.enabled=a.payload,Ne(e)},setLocation(e,a){e.weather.location=a.payload,Ne(e)},setCustomLocationName(e,a){e.weather.customName=a.payload,Ne(e)},setTimeFormat(e,a){e.weather.timeFormat=a.payload,Ne(e)},setTemperatureUnit(e,a){e.weather.temperatureUnit=a.payload,Ne(e)},setHadithBook(e,a){e.hadith.book=a.payload,Ne(e)},setHadithTranslationLanguage(e,a){e.hadith.translationLanguage=a.payload,Ne(e)},setGreetingsEnabled:(e,a)=>{e.greetings.enabled=a.payload,Ne(e)},setName:(e,a)=>{e.greetings.name=a.payload,Ne(e)},setTasksEnabled:(e,a)=>{e.tasks.enabled=a.payload,Ne(e)},setBackgroundRefreshInterval:(e,a)=>{e.background.refreshInterval=a.payload,Ne(e)},setBackgroundLastRefreshTime:(e,a)=>{e.background.lastRefreshTime=a.payload,Ne(e)},setBackgroundCurrentImageUrl:(e,a)=>{e.background.currentImageUrl=a.payload,Ne(e)},setBackgroundFallbackImageUrl:(e,a)=>{e.background.fallbackImageUrl=a.payload,Ne(e)},setBackgroundImageSource:(e,a)=>{e.background.imageSource=a.payload,Ne(e)},setBackgroundIslamicCategory:(e,a)=>{e.background.islamicCategory=a.payload,Ne(e)},addBackgroundUploadedImage:(e,a)=>{if(e.background.uploadedImages.length<10){const t={id:Date.now(),url:a.payload,name:`Image ${e.background.uploadedImages.length+1}`};e.background.uploadedImages.push(t)}Ne(e)},removeBackgroundUploadedImage:(e,a)=>{e.background.uploadedImages=e.background.uploadedImages.filter(e=>e.id!==a.payload),Ne(e)},setBackgroundBlurIntensity:(e,a)=>{e.background.blurIntensity=a.payload,Ne(e)},setBackgroundOpacity:(e,a)=>{e.background.opacity=a.payload,Ne(e)},setBackgroundCurrentUploadedImageIndex:(e,a)=>{e.background.currentUploadedImageIndex=a.payload,Ne(e)}}}),{setTafsirLanguage:Re,setTafsirId:$e,setTextEditionLanguage:Me,setTextEditionIdentifier:We,setAudioEdition:Fe,setSearchTranslationEdition:Be,setWeatherEnabled:Ue,setLocation:Le,setCustomLocationName:_e,setTimeFormat:Pe,setTemperatureUnit:He,setHadithBook:De,setHadithTranslationLanguage:Oe,setGreetingsEnabled:qe,setName:Ke,setTasksEnabled:Qe,setBackgroundRefreshInterval:Je,setBackgroundLastRefreshTime:Ye,setBackgroundCurrentImageUrl:Ge,setBackgroundFallbackImageUrl:Ze,setBackgroundImageSource:Ve,setBackgroundIslamicCategory:Xe,addBackgroundUploadedImage:ea,removeBackgroundUploadedImage:aa,setBackgroundBlurIntensity:ta,setBackgroundOpacity:ra,setBackgroundCurrentUploadedImageIndex:na}=Ee.actions,ia=ce({reducer:{favorites:Ie,settings:Ee.reducer}}),sa=({error:p,onRetry:f,onDismiss:b,retryCount:y=0,maxRetries:j=3,isRetrying:w=!1,showDetails:v=!1})=>{const[k,S]=e.useState(!1);if(!p)return null;const A=(e=>{const t=((null==e?void 0:e.message)||e||"Unknown error").toLowerCase();return t.includes("network")||t.includes("fetch")?{type:"network",severity:"warning",icon:a.jsx(c,{}),title:"Connection Issue",message:"Unable to connect to the server. Please check your internet connection.",action:"Retry Connection",canRetry:!0}:t.includes("server")||t.includes("500")?{type:"server",severity:"error",icon:a.jsx(u,{}),title:"Server Error",message:"The server is temporarily unavailable. Please try again in a moment.",action:"Try Again",canRetry:!0}:t.includes("ayah")||t.includes("hadith")?{type:"content",severity:"info",icon:a.jsx(m,{}),title:"Content Loading Issue",message:"Unable to load Islamic content. Trying to reconnect...",action:"Reload Content",canRetry:!0}:t.includes("background")||t.includes("image")?{type:"image",severity:"warning",icon:a.jsx(x,{}),title:"Background Image Issue",message:"Unable to load background image. Using fallback image.",action:"Try New Image",canRetry:!0}:t.includes("rate limit")||t.includes("429")?{type:"ratelimit",severity:"warning",icon:a.jsx(x,{}),title:"Rate Limit Reached",message:"Too many requests. Please wait a moment before trying again.",action:"Wait and Retry",canRetry:!0,waitTime:60}:{type:"generic",severity:"error",icon:a.jsx(g,{}),title:"Something Went Wrong",message:"An unexpected error occurred. Please try refreshing the page.",action:"Retry",canRetry:!0}})(p);return A.canRetry,a.jsxs(t,{severity:A.severity,variant:"filled",sx:{backgroundColor:`${A.severity}.main`,backdropFilter:"blur(10px)",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.15)",borderRadius:2,minWidth:"300px",maxWidth:"500px",mx:"auto","& .MuiAlert-icon":{fontSize:"1.5rem"}},icon:A.icon,action:b&&a.jsx(d,{size:"small",onClick:b,sx:{color:"white"},children:a.jsx(h,{fontSize:"small"})}),children:[a.jsx(r,{sx:{fontWeight:600},children:A.title}),a.jsx(n,{variant:"body2",sx:{mb:1},children:A.message}),y>0&&a.jsxs(i,{display:"flex",alignItems:"center",gap:1,mb:1,children:[a.jsx(s,{size:"small",label:`Attempt ${y}/${j}`,sx:{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"white",fontSize:"0.75rem"}}),y>=j&&a.jsx(n,{variant:"caption",sx:{color:"rgba(255, 255, 255, 0.8)"},children:"Maximum retries reached"})]}),A.waitTime&&a.jsxs(n,{variant:"caption",sx:{color:"rgba(255, 255, 255, 0.8)"},children:["Please wait ",A.waitTime," seconds before retrying"]}),v&&a.jsxs(i,{children:[a.jsxs(o,{size:"small",onClick:()=>S(!k),sx:{color:"rgba(255, 255, 255, 0.8)",p:0,mt:1},children:[k?"Hide":"Show"," Details"]}),a.jsx(l,{in:k,children:a.jsx(i,{sx:{mt:1,p:1,backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:1,fontFamily:"monospace",fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.9)",wordBreak:"break-all"},children:"object"==typeof p?JSON.stringify(p,null,2):p})})]})]})},oa={english:[{id:169,name:"Ibn Kathir (Abridged)",author_name:"Hafiz Ibn Kathir"},{id:168,name:"Ma'arif al-Qur'an",author_name:"Mufti Muhammad Shafi"},{id:817,name:"Tazkirul Quran (Maulana Wahiduddin Khan)",author_name:"Maulana Wahid Uddin Khan"}],bengali:[{id:381,name:"Tafsir Fathul Majid",author_name:"AbdulRahman Bin Hasan Al-Alshaikh"},{id:165,name:"Tafsir Ahsanul Bayaan",author_name:"Bayaan Foundation"},{id:166,name:"Tafsir Abu Bakr Zakaria",author_name:"King Fahd Quran Printing Complex"},{id:164,name:"Tafseer ibn Kathir",author_name:"Tawheed Publication"}],arabic:[{id:16,name:"Tafsir Muyassar",author_name:"المیسر"},{id:93,name:"Al-Tafsir al-Wasit (Tantawi)",author_name:"Waseet"},{id:14,name:"Tafsir Ibn Kathir",author_name:"Hafiz Ibn Kathir"},{id:15,name:"Tafsir al-Tabari",author_name:"Tabari"},{id:90,name:"Al-Qurtubi",author_name:"Qurtubi"},{id:91,name:"السعدي Al-Sa'di",author_name:"Saddi"},{id:94,name:"Tafseer Al-Baghawi",author_name:"Baghawy"}],russian:[{id:170,name:"Al-Sa'di",author_name:"Saddi"}],urdu:[{id:157,name:"Fi Zilal al-Quran",author_name:"Sayyid Ibrahim Qutb"},{id:160,name:"Tafsir Ibn Kathir",author_name:"Hafiz Ibn Kathir"},{id:818,name:"Tazkir ul Quran",author_name:"Maulana Wahid Uddin Khan"},{id:159,name:"Bayan ul Quran",author_name:"Dr. Israr Ahmad"}],kurdish:[{id:804,name:"Rebar Kurdish Tafsir",author_name:"Rebar Kurdish Tafsir"}]},la=()=>a.jsxs(i,{children:[a.jsxs(i,{mb:2,children:[a.jsx(p,{variant:"text",width:"60%",height:28,sx:{mb:.5}}),a.jsx(p,{variant:"text",width:"40%",height:20})]}),a.jsxs(i,{children:[a.jsx(p,{variant:"text",width:"100%",height:24,sx:{mb:1}}),a.jsx(p,{variant:"text",width:"95%",height:24,sx:{mb:1}}),a.jsx(p,{variant:"text",width:"98%",height:24,sx:{mb:1}}),a.jsx(p,{variant:"text",width:"92%",height:24,sx:{mb:1}}),a.jsx(p,{variant:"text",width:"100%",height:24,sx:{mb:1}}),a.jsx(p,{variant:"text",width:"88%",height:24,sx:{mb:1}}),a.jsx(p,{variant:"text",width:"96%",height:24,sx:{mb:1}}),a.jsx(p,{variant:"text",width:"90%",height:24,sx:{mb:1}}),a.jsx(p,{variant:"text",width:"100%",height:24,sx:{mb:1}}),a.jsx(p,{variant:"text",width:"85%",height:24,sx:{mb:1}}),a.jsx(p,{variant:"text",width:"93%",height:24,sx:{mb:1}}),a.jsx(p,{variant:"text",width:"97%",height:24,sx:{mb:1}}),a.jsx(p,{variant:"text",width:"89%",height:24,sx:{mb:1}}),a.jsx(p,{variant:"text",width:"100%",height:24,sx:{mb:1}}),a.jsx(p,{variant:"text",width:"75%",height:24})]})]}),da=({open:e,onClose:t,surah:r,ayah:s})=>{var o;const l=ue(e=>e.settings.ayah.tafsirId)||169,c=ue(e=>e.settings.ayah.tafsirLanguage)||"english",[u,m]=f.useState(!0),[x,g]=f.useState(null),[p,w]=f.useState(null),v=(null==(o=oa[c])?void 0:o.find(e=>e.id===l))||{name:"Unknown Tafsir",author_name:""};return f.useEffect(()=>{e&&(m(!0),w(null),fetch(`http://localhost:4000/api/tafsir?tafsirId=${l}&surah=${r}&ayah=${s}`).then(e=>e.json()).then(e=>{if(e.error)throw new Error(e.error);g(e)}).catch(e=>w(e.message)).finally(()=>m(!1)))},[e,r,s,l]),a.jsxs(b,{open:e,onClose:t,maxWidth:"md",fullWidth:!0,PaperProps:{className:"modal-enter"},children:[a.jsxs(y,{children:["Tafsir",a.jsx(d,{onClick:t,sx:{position:"absolute",right:16,top:16},children:a.jsx(h,{})})]}),a.jsxs(j,{dividers:!0,children:[a.jsxs(i,{mb:2,children:[a.jsx(n,{variant:"subtitle1",fontWeight:"bold",children:v.name}),a.jsx(n,{variant:"subtitle2",color:"text.secondary",children:v.author_name})]}),u?a.jsx(la,{}):p?a.jsx(n,{color:"error",children:p}):x?a.jsx("div",{className:"animate-fade-in",children:a.jsx("div",{dangerouslySetInnerHTML:{__html:x.tafsir},style:{lineHeight:1.6}})}):null]})]})},ha=e=>{const a=Math.floor(e/60),t=Math.floor(e%60);return`${a}:${t<10?"0":""}${t}`},ca=({src:e,onPrev:t,onNext:r,onToggleContinuous:s,isContinuous:o,ayah:l,onFavorite:h})=>{const c=f.useRef(null);w();const[u,m]=f.useState(!1),[x,g]=f.useState(0),[p,b]=f.useState(0),[y,j]=f.useState(!1),W=me(),F=ue(e=>e.favorites.items),B=`ayah-${l.surah.number}-${l.surah.ayahNumberInSurah}`,U=F.some(e=>e.id===B);f.useEffect(()=>{const e=c.current;if(!e)return;const a=()=>g(e.duration),t=()=>b(e.currentTime),r=()=>m(!1);return e.addEventListener("loadedmetadata",a),e.addEventListener("timeupdate",t),e.addEventListener("ended",r),()=>{e.removeEventListener("loadedmetadata",a),e.removeEventListener("timeupdate",t),e.removeEventListener("ended",r)}},[]);return a.jsxs(v,{elevation:4,sx:{p:2,width:"100%",maxWidth:1e3,mx:"auto",margin:"2rem auto",backgroundColor:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",boxShadow:"0 8px 16px rgba(0,0,0,0.12)"},children:[a.jsx("audio",{ref:c,src:e,preload:"metadata"}),a.jsxs(i,{display:"flex",justifyContent:"center",alignItems:"center",gap:1,mb:2,children:[a.jsx(k,{title:"Restart",children:a.jsx(d,{onClick:()=>{const e=c.current;e&&(e.currentTime=0,e.play(),m(!0))},children:a.jsx(S,{})})}),a.jsx(k,{title:u?"Pause":"Play",children:a.jsx(d,{onClick:()=>{const e=c.current;e&&(u?e.pause():e.play(),m(!u))},children:u?a.jsx(A,{}):a.jsx(I,{})})}),a.jsx(k,{title:"Stop",children:a.jsx(d,{onClick:()=>{const e=c.current;e&&(e.pause(),e.currentTime=0,m(!1))},children:a.jsx(C,{})})}),a.jsx(k,{title:"Previous Ayah",children:a.jsx(d,{onClick:t,disabled:!o,children:a.jsx(T,{})})}),a.jsx(k,{title:"Toggle Continuous Mode",children:a.jsx(d,{onClick:s,color:o?"primary":"default",children:a.jsx(N,{})})}),a.jsx(k,{title:"Next Ayah",children:a.jsx(d,{onClick:r,children:a.jsx(z,{})})}),a.jsx(k,{title:"View Tafsir",children:a.jsx(d,{onClick:()=>j(!0),children:a.jsx(E,{})})}),a.jsx(k,{title:U?"Unfavorite Ayah":"Favorite Ayah",children:a.jsx(d,{onClick:()=>{if(U)W(Se(B));else{const a={id:B,type:"ayah",surahNumber:l.surah.number,ayahNumber:l.surah.ayahNumberInSurah,text:l.text,audio:e,note:"",surahName:l.surah.englishNameTranslation,surahArabicName:l.surah.name};W(ke(a))}},children:U?a.jsx(R,{sx:{color:"red"}}):a.jsx($,{})})})]}),a.jsxs(i,{display:"flex",alignItems:"center",gap:2,children:[a.jsx(n,{variant:"caption",sx:{minWidth:40},children:ha(p)}),a.jsx(M,{min:0,max:x,value:p,onChange:(e,a)=>{const t=c.current;t&&(t.currentTime=a,b(a))},sx:{flex:1}}),a.jsx(n,{variant:"caption",sx:{minWidth:40},children:ha(x)})]}),a.jsx(da,{open:y,onClose:()=>j(!1),surah:l.surah.number,ayah:l.surah.ayahNumberInSurah})]})},ua={1:"Al-Fatihah",2:"Al-Baqarah",3:"Ali 'Imran",4:"An-Nisa",5:"Al-Ma'idah",6:"Al-An'am",7:"Al-A'raf",8:"Al-Anfal",9:"At-Tawbah",10:"Yunus",11:"Hud",12:"Yusuf",13:"Ar-Ra'd",14:"Ibrahim",15:"Al-Hijr",16:"An-Nahl",17:"Al-Isra",18:"Al-Kahf",19:"Maryam",20:"Taha",21:"Al-Anbya",22:"Al-Hajj",23:"Al-Mu'minun",24:"An-Nur",25:"Al-Furqan",26:"Ash-Shu'ara",27:"An-Naml",28:"Al-Qasas",29:"Al-'Ankabut",30:"Ar-Rum",31:"Luqman",32:"As-Sajdah",33:"Al-Ahzab",34:"Saba",35:"Fatir",36:"Ya-Sin",37:"As-Saffat",38:"Sad",39:"Az-Zumar",40:"Ghafir",41:"Fussilat",42:"Ash-Shuraa",43:"Az-Zukhruf",44:"Ad-Dukhan",45:"Al-Jathiyah",46:"Al-Ahqaf",47:"Muhammad",48:"Al-Fath",49:"Al-Hujurat",50:"Qaf",51:"Adh-Dhariyat",52:"At-Tur",53:"An-Najm",54:"Al-Qamar",55:"Ar-Rahman",56:"Al-Waqi'ah",57:"Al-Hadid",58:"Al-Mujadila",59:"Al-Hashr",60:"Al-Mumtahanah",61:"As-Saff",62:"Al-Jumu'ah",63:"Al-Munafiqun",64:"At-Taghabun",65:"At-Talaq",66:"At-Tahrim",67:"Al-Mulk",68:"Al-Qalam",69:"Al-Haqqah",70:"Al-Ma'arij",71:"Nuh",72:"Al-Jinn",73:"Al-Muzzammil",74:"Al-Muddaththir",75:"Al-Qiyamah",76:"Al-Insan",77:"Al-Mursalat",78:"An-Naba",79:"An-Nazi'at",80:"'Abasa",81:"At-Takwir",82:"Al-Infitar",83:"Al-Mutaffifin",84:"Al-Inshiqaq",85:"Al-Buruj",86:"At-Tariq",87:"Al-A'la",88:"Al-Ghashiyah",89:"Al-Fajr",90:"Al-Balad",91:"Ash-Shams",92:"Al-Layl",93:"Ad-Duhaa",94:"Ash-Sharh",95:"At-Tin",96:"Al-'Alaq",97:"Al-Qadr",98:"Al-Bayyinah",99:"Az-Zalzalah",100:"Al-'Adiyat",101:"Al-Qari'ah",102:"At-Takathur",103:"Al-'Asr",104:"Al-Humazah",105:"Al-Fil",106:"Quraysh",107:"Al-Ma'un",108:"Al-Kawthar",109:"Al-Kafirun",110:"An-Nasr",111:"Al-Masad",112:"Al-Ikhlas",113:"Al-Falaq",114:"An-Nas"},ma=W`
  from { opacity: 0; transform: translateY(10px);}
  to { opacity: 1; transform: translateY(0);}
`,xa=({ayah:e,onPrev:t,onNext:r,onToggleContinuous:o,isContinuous:l,onFavorite:d})=>{const h=w();return a.jsxs(F,{sx:{width:"60%",maxWidth:1e3,mx:"auto",margin:"2rem auto",borderRadius:2,backgroundColor:"rgba(255, 255, 255, 0.4)",backdropFilter:"blur(10px)",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.15)",transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"translateY(-6px)",boxShadow:"0 20px 40px rgba(0,0,0,0.2)"},animation:`${ma} 0.6s ease forwards`,overflow:"visible",minHeight:"400px"},children:[a.jsxs(i,{sx:{background:`linear-gradient(90deg, ${h.palette.primary.light} 0%, ${h.palette.primary.main} 100%)`,borderRadius:"8px 8px 0 0",padding:"12px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",color:"#fff",fontWeight:700,fontSize:"1.3rem"},children:[a.jsxs(i,{children:["Surah ",e.surah.number,": ",e.surah.englishNameTranslation," ",a.jsxs(n,{component:"span",sx:{fontWeight:"normal",fontSize:"1rem",opacity:.8,marginLeft:1},children:["(",e.surah.name," • ",ua[e.surah.number],")"]}),a.jsxs(n,{variant:"body2",sx:{mt:.5,color:"#eee"},children:["Ayah ",e.surah.ayahNumberInSurah," of ",e.surah.numberOfAyahs]})]}),a.jsx(s,{label:e.surah.revelationType,color:"secondary",size:"small",sx:{fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase",backgroundColor:h.palette.secondary.main,color:"#fff",fontSize:"0.75rem"}})]}),a.jsxs(B,{sx:{paddingTop:3,paddingBottom:3,position:"relative"},children:[a.jsx(i,{sx:{fontSize:{xs:"1.6rem",sm:"1.9rem"},fontFamily:'"Scheherazade New", serif',direction:"rtl",textAlign:"right",color:"#111827",marginBottom:2,lineHeight:1.6,userSelect:"text",whiteSpace:"pre-line"},textAlign:"center",children:e.arabicText}),a.jsx(U,{sx:{marginBottom:2}}),a.jsx(n,{variant:"body1",sx:{fontSize:{xs:"1rem",sm:"1.15rem"},color:"#374151",fontStyle:"italic",lineHeight:1.4,whiteSpace:"pre-line"},textAlign:"center",children:e.text}),a.jsxs(n,{variant:"caption",color:"text.secondary",sx:{fontWeight:"medium",marginTop:2,display:"block"},textAlign:"center",children:["Translation by ",e.editionName]}),a.jsxs(n,{variant:"body2",sx:{marginTop:1,fontWeight:500,color:e.sajda?"success.main":"text.secondary"},textAlign:"center",children:["Sajdah Tilawah: ",e.sajda?"Yes":"No"]})]}),a.jsx(ca,{src:e.audio.main,onPrev:t,onNext:r,onToggleContinuous:o,isContinuous:l,ayah:e,onFavorite:d})]})},ga=W`
  from { opacity: 0; transform: translateY(10px);}
  to { opacity: 1; transform: translateY(0);}
`,pa=({hadith:e,onPrev:t,onNext:r,onToggleContinuous:o,isContinuous:l,onFavorite:h})=>{const c=w(),u=me(),m=ue(e=>e.favorites.items),x=`hadith-${e.bookSlug}-${e.number}`,g=m.some(e=>e.id===x);return a.jsxs(F,{sx:{width:"60%",maxWidth:1e3,mx:"auto",margin:"2rem auto",borderRadius:2,backgroundColor:"rgba(255, 255, 255, 0.4)",backdropFilter:"blur(10px)",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.15)","&:hover":{transform:"translateY(-6px)",boxShadow:"0 20px 40px rgba(0,0,0,0.2)"},animation:`${ga} 0.6s ease forwards`,minHeight:"450px"},children:[a.jsxs(i,{sx:{background:`linear-gradient(90deg, ${c.palette.primary.light} 0%, ${c.palette.primary.main} 100%)`,borderRadius:"8px 8px 0 0",padding:"12px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",color:"#fff",fontWeight:700,fontSize:"1.3rem"},children:[a.jsxs(i,{children:[e.book,a.jsxs(n,{component:"span",sx:{fontWeight:"normal",fontSize:"1rem",opacity:.8,marginLeft:1},children:["- Chapter ",e.chapter.chapterNumber,": ",e.chapter.english]})]}),a.jsx(s,{label:e.status,color:"Sahih"===e.status?"success":"warning",size:"small",sx:{fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase",backgroundColor:"Sahih"===e.status?c.palette.success.main:c.palette.warning.main,color:"#fff",fontSize:"0.75rem"}})]}),a.jsxs(B,{sx:{paddingTop:3,paddingBottom:3},children:[a.jsx(n,{variant:"subtitle2",textAlign:"center",sx:{fontWeight:500,marginBottom:1},children:e.narrator.english}),a.jsx(i,{sx:{fontSize:{xs:"1.5rem",sm:"1.7rem"},fontFamily:'"Scheherazade New", serif',direction:"rtl",textAlign:"right",color:"#111827",marginBottom:2,lineHeight:1.6,userSelect:"text",whiteSpace:"pre-line"},textAlign:"center",children:e.text.arabic}),a.jsx(U,{sx:{marginBottom:2}}),a.jsx(n,{variant:"body1",textAlign:"center",sx:{fontSize:{xs:"1rem",sm:"1.15rem"},color:"#374151",fontStyle:"italic",whiteSpace:"pre-line",lineHeight:1.5},children:e.text.english}),a.jsxs(n,{variant:"caption",textAlign:"center",display:"block",sx:{mt:2,color:"text.primary"},children:["Hadith #",e.number," from ",e.writer]}),a.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:[a.jsx(d,{onClick:t,children:a.jsx(T,{})}),a.jsx(k,{title:"Toggle Continuous Mode",children:a.jsx(d,{onClick:o,color:l?"primary":"default",children:a.jsx(N,{})})}),a.jsx(d,{onClick:()=>{if(g)u(Se(x));else{const a={id:x,type:"hadith",book:e.bookSlug,bookDisplayName:e.book,hadithNumber:e.number,englishText:e.text.english||"",note:""};u(ke(a))}},children:g?a.jsx(R,{sx:{color:"red"}}):a.jsx($,{})}),a.jsx(d,{onClick:r,children:a.jsx(z,{})})]})]})]})},fa={morning:[e=>`Assalamu Alaikum, ${e}! May your morning be filled with barakah ☀️`,e=>`Good morning, ${e}! Begin your day with Bismillah 🌅`,e=>`Rise and shine, ${e}! May Allah bless your day 🌞`,e=>`Assalamu Alaikum, ${e}! Today is a gift from Allah 🎁`],afternoon:[e=>`May your afternoon be filled with peace and barakah, ${e} 🌼`,e=>`Hello ${e}, stay grateful and patient this afternoon ☀️`,e=>`${e}, keep going — Allah is with those who persevere 🍃`,e=>`Stay strong, ${e}! Every challenge brings growth 🌱`],evening:[e=>`Good evening, ${e}! Reflect and remember Allah 🌙`,e=>`Good evening, ${e}! May Allah's light guide you through the night 🌠`,e=>`Assalamu Alaikum, ${e}. Wind down with dhikr 🌌`,e=>`Alhamdulillah for today, ${e}! Make it count 💫`],night:[e=>`Good night, ${e}. May Allah grant you restful sleep ⭐`,e=>`Sleep well, ${e}! Don’t forget your evening du'as 🌟`,e=>`${e}, end your day with gratitude and tawakkul 🌙`,e=>`${e}, trust Allah with tomorrow's blessings 💤`]},ba=({name:e="Friend"})=>{const[t,r]=f.useState(0),[s,o]=f.useState(!0),l=(()=>{const e=(new Date).getHours();return e>=5&&e<12?"morning":e>=12&&e<17?"afternoon":e>=17&&e<21?"evening":"night"})(),d=fa[l];f.useEffect(()=>{const e=setInterval(()=>{o(!1),setTimeout(()=>{r(e=>(e+1)%d.length),o(!0)},500)},1e4);return()=>clearInterval(e)},[d.length]);const h=d[t](e),c=(e=>{const a=e.length;let t=1,r="medium";return a>90?(t=.55,r="long"):a>75?(t=.65,r="long"):a>60?(t=.75,r="long"):a>45?(t=.85,r="medium"):a>30?(t=.95,r="medium"):r="short",{fontSize:{xs:1.5*t+"rem",sm:2*t+"rem",md:2.125*t+"rem"},fontWeight:{short:600,medium:500,long:400}[r]}})(h);return a.jsx(i,{textAlign:"center",mt:5,mb:5,sx:{width:"100%",maxWidth:1e3,mx:"auto"},children:a.jsx(L,{in:s,timeout:500,children:a.jsx(n,{variant:"h4",sx:{fontWeight:c.fontWeight,color:"white",fontFamily:"'Poppins', 'Inter', 'Segoe UI', sans-serif",userSelect:"none",lineHeight:1.4,textAlign:"center",fontSize:c.fontSize,letterSpacing:"0.02em",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textShadow:"1px 1px 3px rgba(0, 0, 0, 0.5)",minHeight:"3.5rem",display:"flex",alignItems:"center",justifyContent:"center"},children:h})})})},ya="ilmtab_tasks",ja=()=>{const[e,t]=f.useState([]),[r,s]=f.useState(""),[o,h]=f.useState(!1),[c,u]=f.useState(!1),[m,x]=f.useState(null),[g,p]=f.useState("");f.useEffect(()=>{try{const e=localStorage.getItem(ya);if(e){const a=JSON.parse(e);t(a)}}catch(e){}},[]),f.useEffect(()=>{try{localStorage.setItem(ya,JSON.stringify(e))}catch(a){}},[e]),c||e.slice(0,3);const b=e.filter(e=>e.done).length,y=()=>{r.trim()&&(t([...e,{id:Date.now(),text:r.trim(),done:!1}]),s(""))},j=e=>{t(a=>a.map(a=>a.id===e?{...a,done:!a.done}:a))},w=e=>{t(a=>a.filter(a=>a.id!==e))},v=(e,a)=>{x(e),p(a)},S=()=>{g.trim()&&(t(e=>e.map(e=>e.id===m?{...e,text:g.trim()}:e)),x(null),p(""))};return a.jsxs(i,{sx:{display:"relative",justifyContent:"space-between",alignItems:"center",px:2,py:1,width:"60%",maxWidth:1e3,mx:"auto",backgroundColor:"rgba(255, 255, 255, 0.4)",backdropFilter:"blur(10px)",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.15)",borderRadius:2,color:"#111827",userSelect:"none",animation:"fadeInUp 0.7s ease forwards"},children:[a.jsxs(i,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",userSelect:"none",py:.5},onClick:()=>h(e=>!e),children:[a.jsxs(n,{variant:"subtitle1",sx:{fontWeight:600,color:"black",fontSize:"1rem"},children:["Your Tasks (",b,"/",e.length,")"]}),o?a.jsx(_,{}):a.jsx(P,{})]}),a.jsx(l,{in:o,timeout:300,children:a.jsxs(i,{sx:{mt:1,bgcolor:"rgba(255,255,255,0.35)",backdropFilter:"blur(8px)",p:2,borderRadius:2,boxShadow:"0 6px 20px rgba(0, 0, 0, 0.1)",color:"#111827"},className:"expand-enter",children:[a.jsxs(i,{sx:{display:"flex",gap:1,mb:1},children:[a.jsx(H,{fullWidth:!0,placeholder:"Add new task",size:"small",value:r,onChange:e=>s(e.target.value),onKeyDown:e=>"Enter"===e.key&&y()}),a.jsx(k,{title:"Add task",children:a.jsx(d,{onClick:y,children:a.jsx(D,{})})})]}),a.jsxs(O,{dense:!0,children:[e.slice(0,3).map(({id:e,text:t,done:r})=>a.jsxs(q,{sx:{px:.5,py:0,display:"flex",alignItems:"center"},className:"list-item-enter",children:[a.jsx(K,{checked:r,onChange:()=>j(e),sx:{mr:1}}),m===e?a.jsx(H,{fullWidth:!0,value:g,onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),S()):"Escape"===e.key&&(x(null),p(""))},onBlur:S,size:"small",autoFocus:!0}):a.jsx(Q,{primary:t,sx:{textDecoration:r?"line-through":"none",color:r?"gray":"black"}}),m===e?a.jsx(d,{onClick:S,size:"small",children:a.jsx(J,{fontSize:"small"})}):a.jsx(d,{onClick:()=>v(e,t),size:"small",children:a.jsx(Y,{fontSize:"small"})}),a.jsx(d,{onClick:()=>w(e),size:"small",children:a.jsx(G,{fontSize:"small"})})]},e)),a.jsx(l,{in:c,timeout:300,children:a.jsx(i,{className:"expand-enter",children:e.slice(3).map(({id:e,text:t,done:r})=>a.jsxs(q,{sx:{px:.5,py:0,display:"flex",alignItems:"center"},className:"list-item-enter",children:[a.jsx(K,{checked:r,onChange:()=>j(e),sx:{mr:1}}),m===e?a.jsx(H,{fullWidth:!0,value:g,onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),S()):"Escape"===e.key&&(x(null),p(""))},onBlur:S,size:"small",autoFocus:!0}):a.jsx(Q,{primary:t,sx:{textDecoration:r?"line-through":"none",color:r?"gray":"black"}}),m===e?a.jsx(d,{onClick:S,size:"small",children:a.jsx(J,{fontSize:"small"})}):a.jsx(d,{onClick:()=>v(e,t),size:"small",children:a.jsx(Y,{fontSize:"small"})}),a.jsx(d,{onClick:()=>w(e),size:"small",children:a.jsx(G,{fontSize:"small"})})]},e))})})]}),e.length>3&&a.jsx(i,{textAlign:"center",mt:1,children:a.jsxs(d,{onClick:()=>u(e=>!e),size:"small",className:"btn-smooth",sx:{color:"black"},"aria-label":c?"Show less tasks":"Show more tasks",children:[a.jsx(i,{className:"icon-smooth",children:c?a.jsx(_,{}):a.jsx(P,{})}),a.jsx(n,{variant:"caption",sx:{ml:.5},children:c?"Show Less":"Show More"})]})})]})})]})},wa={0:"sun",1:"sun",2:"cloud",3:"cloud",45:"cloud-rain",48:"cloud-rain",51:"cloud-rain",53:"cloud-rain",55:"cloud-rain",56:"cloud-rain",57:"cloud-rain",61:"cloud-rain",63:"cloud-rain",65:"cloud-rain",66:"cloud-rain",67:"cloud-rain",71:"cloud-snow",73:"cloud-snow",75:"cloud-snow",77:"cloud-snow",80:"cloud-rain",81:"cloud-rain",82:"cloud-rain",85:"cloud-snow",86:"cloud-snow",95:"cloud-lightning",96:"cloud-lightning",99:"cloud-lightning"},va={0:"Clear sky",1:"Mainly clear",2:"Partly cloudy",3:"Overcast",45:"Fog",48:"Depositing rime fog",51:"Light drizzle",53:"Moderate drizzle",55:"Heavy drizzle",56:"Light freezing drizzle",57:"Heavy freezing drizzle",61:"Light rain",63:"Moderate rain",65:"Heavy rain",66:"Light freezing rain",67:"Heavy freezing rain",71:"Light snow",73:"Moderate snow",75:"Heavy snow",77:"Snow grains",80:"Light rain showers",81:"Moderate rain showers",82:"Heavy rain showers",85:"Light snow showers",86:"Heavy snow showers",95:"Thunderstorm",96:"Thunderstorm with light hail",99:"Thunderstorm with heavy hail"},ka=e=>{const t={fontSize:48,animation:"pulse 3s infinite",filter:"drop-shadow(0 0 5px rgba(0,0,0,0.2))"};switch(wa[e]||"sun"){case"sun":default:return a.jsx(V,{sx:{...t,color:"#fbc02d"}});case"cloud":return a.jsx(te,{sx:{...t,color:"#90a4ae"}});case"cloud-rain":return a.jsx(ae,{sx:{...t,color:"#4fc3f7"}});case"cloud-snow":return a.jsx(ee,{sx:{...t,color:"#81d4fa"}});case"cloud-lightning":return a.jsx(X,{sx:{...t,color:"#f44336"}})}},Sa=()=>{const{location:e,customName:t,timeFormat:r,temperatureUnit:s}=ue(e=>e.settings.weather),[o,l]=f.useState(null),[d,h]=f.useState(!0),[c,u]=f.useState(null),[m,x]=f.useState(null),[g,p]=f.useState(!0),[b,y]=f.useState(null),[j,w]=f.useState(new Date),[v,k]=f.useState("UTC");f.useEffect(()=>{(async()=>{var a;const{latitude:t,longitude:r}=e;h(!0),u(null);try{const e=`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${r}&current_weather=true`,n=await ge.get(e);if(!(null==(a=n.data)?void 0:a.current_weather))throw new Error("Weather data not available");{const e=n.data.current_weather.weathercode;l({tempC:n.data.current_weather.temperature,weatherCode:e,windSpeedKph:n.data.current_weather.windspeed}),u(null)}}catch(n){u("Unable to load weather data"),l(null)}finally{h(!1)}})(),(async()=>{const{latitude:a,longitude:t}=e;p(!0),y(null);try{const e=await fetch(`https://api.aladhan.com/v1/gToH?latitude=${a}&longitude=${t}&method=2`),r=await e.json();if(200!==r.code)throw new Error("Hijri date not available");x(r.data.hijri),y(null)}catch(r){y("Unable to load Islamic date"),x(null)}finally{p(!1)}})()},[e]),f.useEffect(()=>{e.timezone&&k(e.timezone)},[e]),f.useEffect(()=>{const e=setInterval(()=>{w(new Date)},1e3);return()=>clearInterval(e)},[]);const S="12h"===r,A="fahrenheit"===s,I=new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",hour12:S,timeZone:v}).format(j),C=j.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"});return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:"\n        @keyframes pulse {\n          0%, 100% { transform: scale(1); filter: drop-shadow(0 0 5px rgba(0,0,0,0.2)); }\n          50% { transform: scale(1.1); filter: drop-shadow(0 0 15px rgba(0,0,0,0.35)); }\n        }\n        @keyframes fadeInUp {\n          from { opacity: 0; transform: translateY(12px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n      "}),a.jsxs(i,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"center",gap:3,px:3,py:3,width:"60%",maxWidth:1e3,mx:"auto",backgroundColor:"rgba(255, 255, 255, 0.4)",backdropFilter:"blur(10px)",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.15)",borderRadius:2,color:"#111827",userSelect:"none",animation:"fadeInUp 0.7s ease forwards"},children:[a.jsxs(i,{sx:{flex:1,textAlign:{xs:"center",sm:"left"}},children:[a.jsx(n,{variant:"h3",sx:{fontWeight:600,mb:.5},children:I}),g?a.jsx(Z,{size:24,sx:{color:"#444"}}):b?a.jsx(n,{variant:"body2",sx:{fontWeight:500,color:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)",padding:"4px 8px",borderRadius:1,fontSize:"0.875rem"},children:b}):m?a.jsxs(n,{variant:"body",sx:{fontWeight:500,color:"#374151"},children:[m.weekday.en,", ",m.day," ",m.month.en," ",m.year," AH"]}):null,a.jsx(n,{variant:"body1",sx:{fontWeight:500,color:"#374151"},children:C})]}),a.jsx(i,{sx:{flexShrink:0,display:"flex",alignItems:"center",gap:2,backgroundColor:"rgba(255, 255, 255, 0.35)",backdropFilter:"blur(8px)",borderRadius:3,p:2,minWidth:180,boxShadow:"0 6px 20px rgba(0, 0, 0, 0.1)",animation:"fadeInUp 1s ease forwards",color:"#111827"},children:d?a.jsx(Z,{size:30,sx:{color:"#444"}}):c?a.jsxs(i,{sx:{textAlign:"center",width:"100%"},children:[a.jsx(n,{variant:"body2",sx:{fontWeight:500,color:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)",padding:"8px 12px",borderRadius:1,fontSize:"0.875rem"},children:c}),a.jsx(n,{variant:"subtitle2",sx:{fontWeight:600,mt:1},children:t||e.name})]}):o?a.jsxs(a.Fragment,{children:[ka(o.weatherCode),a.jsxs(i,{children:[a.jsx(n,{variant:"subtitle1",sx:{fontWeight:600},children:t||e.name}),a.jsx(n,{variant:"h5",sx:{fontWeight:"bold",lineHeight:1},children:(T=o.tempC,A?`${Math.round(1.8*T+32)}°F`:`${Math.round(T)}°C`)}),a.jsx(n,{variant:"body2",sx:{opacity:.7},children:va[o.weatherCode]||"Unknown"})]})]}):null})]})]});var T},Aa=()=>{const e=w();return a.jsxs(F,{sx:{width:"60%",maxWidth:1e3,mx:"auto",margin:"2rem auto",borderRadius:2,backgroundColor:"rgba(255, 255, 255, 0.4)",backdropFilter:"blur(10px)",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.15)",overflow:"visible",minHeight:"400px"},children:[a.jsxs(i,{sx:{background:`linear-gradient(90deg, ${e.palette.primary.light} 0%, ${e.palette.primary.main} 100%)`,borderRadius:"8px 8px 0 0",padding:"12px 20px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs(i,{sx:{flex:1},children:[a.jsx(p,{variant:"text",width:"70%",height:32,sx:{bgcolor:"rgba(255, 255, 255, 0.3)"}}),a.jsx(p,{variant:"text",width:"50%",height:20,sx:{bgcolor:"rgba(255, 255, 255, 0.2)",mt:.5}})]}),a.jsx(p,{variant:"rounded",width:80,height:24,sx:{bgcolor:"rgba(255, 255, 255, 0.3)"}})]}),a.jsxs(B,{sx:{paddingTop:3,paddingBottom:3},children:[a.jsxs(i,{sx:{textAlign:"center",mb:2},children:[a.jsx(p,{variant:"text",width:"90%",height:48,sx:{mx:"auto",mb:1}}),a.jsx(p,{variant:"text",width:"75%",height:48,sx:{mx:"auto",mb:1}}),a.jsx(p,{variant:"text",width:"85%",height:48,sx:{mx:"auto"}})]}),a.jsx(p,{variant:"rectangular",width:"100%",height:1,sx:{mb:2}}),a.jsxs(i,{sx:{textAlign:"center",mb:2},children:[a.jsx(p,{variant:"text",width:"95%",height:24,sx:{mx:"auto",mb:1}}),a.jsx(p,{variant:"text",width:"88%",height:24,sx:{mx:"auto",mb:1}}),a.jsx(p,{variant:"text",width:"92%",height:24,sx:{mx:"auto"}})]}),a.jsxs(i,{sx:{textAlign:"center",mt:2},children:[a.jsx(p,{variant:"text",width:"40%",height:16,sx:{mx:"auto",mb:1}}),a.jsx(p,{variant:"text",width:"30%",height:20,sx:{mx:"auto"}})]})]}),a.jsxs(i,{sx:{backgroundColor:"rgba(248, 250, 252, 0.8)",borderRadius:"0 0 8px 8px",padding:"16px 24px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(p,{variant:"circular",width:40,height:40}),a.jsx(p,{variant:"circular",width:48,height:48}),a.jsx(p,{variant:"circular",width:40,height:40})]}),a.jsx(i,{sx:{flex:1,mx:3},children:a.jsx(p,{variant:"rounded",width:"100%",height:6})}),a.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsx(p,{variant:"circular",width:40,height:40}),a.jsx(p,{variant:"circular",width:40,height:40})]})]})]})},Ia=()=>{const e=w();return a.jsxs(F,{sx:{width:"60%",maxWidth:1e3,mx:"auto",margin:"2rem auto",borderRadius:2,backgroundColor:"rgba(255, 255, 255, 0.4)",backdropFilter:"blur(10px)",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.15)",minHeight:"450px"},children:[a.jsxs(i,{sx:{background:`linear-gradient(90deg, ${e.palette.primary.light} 0%, ${e.palette.primary.main} 100%)`,borderRadius:"8px 8px 0 0",padding:"12px 20px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs(i,{sx:{flex:1},children:[a.jsx(p,{variant:"text",width:"60%",height:32,sx:{bgcolor:"rgba(255, 255, 255, 0.3)"}}),a.jsx(p,{variant:"text",width:"80%",height:20,sx:{bgcolor:"rgba(255, 255, 255, 0.2)",mt:.5}})]}),a.jsx(p,{variant:"rounded",width:70,height:24,sx:{bgcolor:"rgba(255, 255, 255, 0.3)"}})]}),a.jsxs(B,{sx:{paddingTop:3,paddingBottom:3},children:[a.jsx(i,{sx:{textAlign:"center",mb:2},children:a.jsx(p,{variant:"text",width:"50%",height:20,sx:{mx:"auto"}})}),a.jsxs(i,{sx:{textAlign:"center",mb:2},children:[a.jsx(p,{variant:"text",width:"95%",height:44,sx:{mx:"auto",mb:1}}),a.jsx(p,{variant:"text",width:"88%",height:44,sx:{mx:"auto",mb:1}}),a.jsx(p,{variant:"text",width:"92%",height:44,sx:{mx:"auto",mb:1}}),a.jsx(p,{variant:"text",width:"78%",height:44,sx:{mx:"auto"}})]}),a.jsx(p,{variant:"rectangular",width:"100%",height:1,sx:{mb:2}}),a.jsxs(i,{sx:{textAlign:"center",mb:2},children:[a.jsx(p,{variant:"text",width:"98%",height:24,sx:{mx:"auto",mb:1}}),a.jsx(p,{variant:"text",width:"94%",height:24,sx:{mx:"auto",mb:1}}),a.jsx(p,{variant:"text",width:"96%",height:24,sx:{mx:"auto",mb:1}}),a.jsx(p,{variant:"text",width:"85%",height:24,sx:{mx:"auto"}})]}),a.jsx(i,{sx:{textAlign:"center",mt:2},children:a.jsx(p,{variant:"text",width:"45%",height:16,sx:{mx:"auto"}})}),a.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:[a.jsx(p,{variant:"circular",width:40,height:40}),a.jsx(p,{variant:"circular",width:40,height:40}),a.jsx(p,{variant:"circular",width:40,height:40}),a.jsx(p,{variant:"circular",width:40,height:40})]})]})]})},Ca=[{id:1,name:"Sahih Bukhari",writer:"Imam Bukhari",slug:"sahih-bukhari",hadithsCount:7276,chaptersCount:99},{id:2,name:"Sahih Muslim",writer:"Imam Muslim",slug:"sahih-muslim",hadithsCount:7564,chaptersCount:56},{id:4,name:"Jami' Al-Tirmidhi",writer:"Abu `Isa Muhammad at-Tirmidhi",slug:"al-tirmidhi",hadithsCount:3956,chaptersCount:50},{id:5,name:"Sunan Abu Dawood",writer:"Imam Abu Dawud Sulayman ibn al-Ash'ath as-Sijistani",slug:"abu-dawood",hadithsCount:5274,chaptersCount:43},{id:6,name:"Sunan Ibn-e-Majah",writer:"Imam Muhammad bin Yazid Ibn Majah al-Qazvini",slug:"ibn-e-majah",hadithsCount:4341,chaptersCount:39},{id:7,name:"Sunan An-Nasa'i",writer:"Imam Ahmad an-Nasa'i",slug:"sunan-nasai",hadithsCount:5761,chaptersCount:52},{id:8,name:"Mishkat Al-Masabih",writer:"Imam Khatib at-Tabrizi",slug:"mishkat",hadithsCount:6293,chaptersCount:29}];function Ta(e=1920,a=1){let t=e*a;return t=Math.max(t,1920),t=Math.min(t,3840),t=240*Math.ceil(t/240),t}function Na(e,a={}){if(!e)return null;const{quality:t=85,width:r=null,height:n=null,fit:i="crop",format:s="auto"}=a;try{const a=new URL(e);a.searchParams.set("q",String(t));const o=r||Ta(window.innerWidth,window.devicePixelRatio||1);return a.searchParams.set("w",String(o)),n&&a.searchParams.set("h",String(n)),a.searchParams.set("fit",i),a.searchParams.set("fm",s),a.searchParams.set("auto","enhance"),a.toString()}catch(o){return e}}const za=new class{constructor(e=50){this.cache=new Map,this.maxSize=e}set(e,a){if(this.cache.size>=this.maxSize){const e=this.cache.keys().next().value;this.cache.delete(e)}this.cache.set(e,{...a,timestamp:Date.now()})}get(e){const a=this.cache.get(e);if(!a)return null;return Date.now()-a.timestamp>864e5?(this.cache.delete(e),null):a}clear(){this.cache.clear()}};const Ea=f.lazy(()=>fe(()=>import("./FavoritesModal-UOLwQfpw.js"),__vite__mapDeps([0,1,2,3,4]))),Ra=f.lazy(()=>fe(()=>import("./SettingsModal-lKuQjtbv.js"),__vite__mapDeps([5,1,2,3,4]))),$a=f.lazy(()=>fe(()=>import("./QuranSearch-CL8cn5Pi.js"),__vite__mapDeps([6,1,2,3,4]))),Ma="CmH0hk3YgDGkNbMvPBhbNL8n23lQwrNnrneWYr-lVlc";function Wa(){const[e,t]=f.useState(null),[r,n]=f.useState(null),[s,o]=f.useState(!0),[l,h]=f.useState(!1),[c,u]=f.useState(null),[m,x]=f.useState(null),[g,p]=f.useState(""),[b,y]=f.useState(""),[j,w]=f.useState(null),[v,S]=f.useState(null),[A,I]=f.useState(!1),[C,T]=f.useState(!1),[N,z]=f.useState(null),[E,$]=f.useState(null),[M,W]=f.useState("ayah"),[F,B]=f.useState(!1),[U,L]=f.useState(!1),[_,P]=f.useState(!1),[H,D]=f.useState(!1),[O,q]=f.useState(!1),[K,Q]=f.useState(null),J=me(),Y=ue(e=>e.favorites.items),G=ue(e=>e.settings.ayah.textEdition.identifier),Z=ue(e=>e.settings.ayah.audioEdition.identifier),V=ue(e=>e.settings.hadith.book),X=ue(e=>e.settings.weather.enabled),ee=ue(e=>e.settings.greetings.enabled),ae=ue(e=>e.settings.greetings.name),te=ue(e=>e.settings.tasks.enabled),le=ue(e=>e.settings.background),de=(null==le?void 0:le.refreshInterval)||"newtab";null==le||le.lastRefreshTime,null==le||le.currentImageUrl,null==le||le.fallbackImageUrl;const he=(null==le?void 0:le.imageSource)||"category",ce=(null==le?void 0:le.islamicCategory)||"nature",xe=(null==le?void 0:le.uploadedImages)||[],pe=(null==le?void 0:le.currentUploadedImageIndex)||0,fe=async()=>{try{if("upload"===he&&xe.length>0){const e=pe%xe.length,a=xe[e],t=(pe+1)%xe.length;J(na(t));const r=a.url.includes("unsplash.com")?Na(a.url):a.url;return x(r),p("Your Upload"),y("#"),J(Ge(r)),void J(Ye(Date.now()))}if("category"===he){const e=`${ce}-${function(){const e=window.innerWidth,a=window.devicePixelRatio||1,t=Ta(e,a);return{screenWidth:e,pixelRatio:a,trueResolution:e*a,optimalWidth:t,estimatedSize:`${Math.round(.4*t/1024)}KB`,deviceType:e<768?"mobile":e<1200?"tablet":"desktop"}}().optimalWidth}`,a=za.get(e);if(a&&Math.random()>.3)return x(a.optimizedUrl),p(a.authorName),y(a.authorLink),J(Ge(a.optimizedUrl)),void J(Ye(Date.now()));0;const r={nature:"nature,landscape,mountains,sky,peaceful",architecture:"mosque,islamic architecture,minaret,dome",calligraphy:"arabic calligraphy,islamic art",geometric:"islamic pattern,islamic geometric,mandala,islamic symmetry"},n=r[ce]||r.nature,i=await ge.get("https://api.unsplash.com/photos/random",{params:{query:n,orientation:"landscape"},headers:{Authorization:`Client-ID ${Ma}`}});if(i.data&&i.data.urls&&i.data.urls.raw){const a=i.data,r=Na(a.urls.raw),n=function(e){if(!e)return null;try{const a=new URL(e);return a.searchParams.set("w","40"),a.searchParams.set("h","30"),a.searchParams.set("q","20"),a.searchParams.set("blur","200"),a.searchParams.set("fm","jpg"),a.toString()}catch(c){return null}}(a.urls.raw);if(x(r),p(a.user.name),y(`${a.user.links.html}?utm_source=ilmtab&utm_medium=referral`),J(Ge(r)),J(Ye(Date.now())),za.set(e,{optimizedUrl:r,placeholderUrl:n,authorName:a.user.name,authorLink:`${a.user.links.html}?utm_source=ilmtab&utm_medium=referral`,rawUrl:a.urls.raw}),a.links&&a.links.download_location)try{await ge.get(a.links.download_location,{headers:{Authorization:`Client-ID ${Ma}`},timeout:5e3})}catch(t){}return}throw new Error("Invalid API response")}}catch(t){}const e="https://images.unsplash.com/photo-1506744038136-46273834b3fb",a=Na(e)||`${e}?auto=format&fit=crop&w=1920&q=80`;x(a),p("Fallback Image"),y("#"),J(Ge(a)),J(Ye(Date.now()))};f.useEffect(()=>{fe()},[he,ce,xe.length]),f.useEffect(()=>{if("newtab"===de)return;const e=(()=>{switch(de){case"5min":return 3e5;case"15min":return 9e5;case"30min":return 18e5;case"1hour":return 36e5;case"1day":return 864e5;case"1week":return 6048e5;default:return null}})();if(!e)return;const a=setInterval(()=>{fe()},e);return()=>clearInterval(a)},[de]);const be=async(e=null,a=null)=>{try{o(!0);const r=new URLSearchParams;e&&a&&(r.append("surah",e),r.append("ayah",a)),r.append("text_edition",G),r.append("audio_edition",Z);const n=(await ge.get(`http://localhost:4000/api/ayat?${r.toString()}`,{timeout:1e4})).data;t(n),w(n.surah.number),S(n.surah.ayahNumberInSurah),u(null)}catch(r){u("Failed to fetch ayah")}finally{o(!1)}},ye=async(e=null,a=null)=>{try{h(!0);const t=new URLSearchParams;e?t.append("book",e):t.append("book",V),a&&t.append("hadithNumber",a);const r=(await ge.get(`http://localhost:4000/api/hadith?${t}`,{timeout:12e3})).data;n(r),z(Number(r.number)),u(null)}catch(t){u("Failed to fetch hadith")}finally{h(!1)}};f.useEffect(()=>{be()},[]),f.useEffect(()=>{const e=setTimeout(()=>{D(!0)},2e3);return()=>clearTimeout(e)},[]),f.useEffect(()=>{null!=j&&null!=v&&be(j,v)},[G,Z]),f.useEffect(()=>{if(V){const e=Ca.find(e=>e.slug===V);if(e){$(e.hadithsCount);const a=Math.floor(Math.random()*e.hadithsCount)+1;z(a),ye(V,a)}}},[V]);const je=["ayah","hadith"],we=e=>{var a;if(!e)return;let t="",r=null;if(e.surah)t=`ayah-${e.surah.number}-${e.surah.ayahNumberInSurah}`,r={id:t,type:"ayah",surahNumber:e.surah.number,ayahNumber:e.surah.ayahNumberInSurah,text:e.text,audio:(null==(a=e.audio)?void 0:a.main)||"",note:""};else{if(!e.bookSlug)return;t=`hadith-${e.bookSlug}-${e.number}`,r={id:t,type:"hadith",book:e.bookSlug,bookDisplayName:e.book,hadithNumber:e.number,englishText:e.text.english||"",note:""}}const n=Y.some(e=>e.id===t);J(n?Se(t):ke(r))},ve={backgroundImage:m?`url(${m})`:"none",backgroundSize:"cover",backgroundPosition:"center",minHeight:"100vh",paddingTop:"2rem",transition:"background-image 0.5s ease-in-out",position:"relative"},Ie=e=>H?"page-load-complete":`page-load-stagger-${e}`,Ce=()=>O?"next"===K?"view-slide-in-right":"prev"===K?"view-slide-in-left":"view-cross-fade":"view-cross-fade";return a.jsxs(a.Fragment,{children:[a.jsx(re,{}),a.jsxs("div",{style:ve,className:"page-load-background",children:[a.jsxs(i,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",px:2,py:4},children:[c&&a.jsx(i,{sx:{position:"fixed",top:20,left:"50%",transform:"translateX(-50%)",zIndex:2e3,width:"90%",maxWidth:"500px"},children:a.jsx(sa,{error:c,onDismiss:()=>u(null),showDetails:!1})}),a.jsxs(i,{sx:{backgroundColor:"rgba(255, 255, 255, 0.4)",backdropFilter:"blur(10px)",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.15)",borderRadius:"20px",px:2,py:.5,mb:2,display:"flex",alignItems:"center"},className:Ie(1),children:[a.jsx(d,{onClick:()=>{if(O)return;q(!0),Q("prev");const e=(je.indexOf(M)-1+je.length)%je.length;setTimeout(()=>{W(je[e]),setTimeout(()=>{q(!1),Q(null)},400)},150)},size:"small",sx:{color:"#374151"},children:a.jsx(ne,{fontSize:"small"})}),a.jsx("span",{style:{color:"#374151",fontSize:"0.9rem",fontWeight:500,letterSpacing:"0.5px",fontFamily:"Inter, Roboto, sans-serif",margin:"0 8px",userSelect:"none"},children:"ayah"===M?"Ayah Mode":"Hadith Mode"}),a.jsx(d,{onClick:()=>{if(O)return;q(!0),Q("next");const e=(je.indexOf(M)+1)%je.length;setTimeout(()=>{W(je[e]),setTimeout(()=>{q(!1),Q(null)},400)},150)},size:"small",sx:{color:"#374151"},children:a.jsx(ie,{fontSize:"small"})})]}),a.jsxs(i,{sx:{width:"100%",maxWidth:"900px",mx:"auto"},className:"view-transition-container",children:["ayah"===M&&a.jsx("div",{className:`${Ie(2)} ${Ce()}`,children:s?a.jsx(Aa,{}):e?a.jsx("div",{className:"animate-fade-in",children:a.jsx(xa,{ayah:e,onNext:()=>{A&&j&&v?be(j,v+1):be()},onPrev:()=>{A&&j&&v>1&&be(j,v-1)},onToggleContinuous:()=>I(e=>!e),isContinuous:A,onFavorite:we})}):null}),"hadith"===M&&a.jsx("div",{className:`${Ie(2)} ${Ce()}`,children:l?a.jsx(Ia,{}):r?a.jsx("div",{className:"animate-fade-in",children:a.jsx(pa,{hadith:r,onNext:()=>{if(C&&N&&E&&N<E){const e=N+1;z(e),ye(V,e)}else ye()},onPrev:()=>{if(C&&N>1){const e=N-1;z(e),ye(V,e)}},onToggleContinuous:()=>T(e=>!e),isContinuous:C,onFavorite:we})}):null}),X&&a.jsx("div",{className:Ie(3),children:a.jsx(Sa,{})}),ee&&a.jsx("div",{className:Ie(4),children:a.jsx(ba,{name:ae})}),te&&a.jsx("div",{className:Ie(5),children:a.jsx(ja,{})})]})]}),a.jsxs(i,{sx:{position:"fixed",bottom:10,left:10,display:"flex",gap:1,zIndex:1500},className:Ie(6),children:[a.jsx(k,{title:"Favorites",children:a.jsx(d,{size:"large",className:"btn-smooth",sx:{backgroundColor:"#fff",boxShadow:2,"&:hover":{backgroundColor:"#eee"}},onClick:()=>B(!0),children:a.jsx(R,{color:"error",className:"icon-smooth"})})}),a.jsx(k,{title:"Settings",children:a.jsx(d,{size:"large",className:"btn-smooth",sx:{backgroundColor:"#fff",boxShadow:2,"&:hover":{backgroundColor:"#eee"}},onClick:()=>L(!0),children:a.jsx(se,{className:"icon-smooth"})})}),a.jsx(k,{title:"Search Quran",children:a.jsx(d,{size:"large",className:"btn-smooth",sx:{backgroundColor:"#fff",boxShadow:2,"&:hover":{backgroundColor:"#eee"}},onClick:()=>P(!0),children:a.jsx(oe,{color:"primary",className:"icon-smooth"})})}),a.jsx(f.Suspense,{fallback:a.jsx("div",{}),children:a.jsx(Ea,{open:F,onClose:()=>B(!1),favorites:Y,onUpdateNote:(e,a)=>{J(Ae({id:e,note:a}))},onDeleteFavorite:e=>{J(Se(e))},onNavigateToFavorite:e=>{"ayah"===e.type?(W("ayah"),be(e.surahNumber,e.ayahNumber)):"hadith"===e.type&&(W("hadith"),ye(e.book,e.hadithNumber))}})}),a.jsx(f.Suspense,{fallback:a.jsx("div",{}),children:a.jsx(Ra,{open:U,onClose:()=>L(!1)})})]}),_&&a.jsx(f.Suspense,{fallback:a.jsx("div",{}),children:a.jsx($a,{onSelectAyah:(e,a)=>{W("ayah"),be(e,a)},onClose:()=>P(!1)})}),m&&a.jsxs("div",{style:{position:"fixed",bottom:10,right:10,color:"white",backgroundColor:"rgba(0, 0, 0, 0.4)",padding:"4px 8px",borderRadius:"4px",fontSize:"0.8rem",fontFamily:"Arial, sans-serif",zIndex:1e3,userSelect:"none"},children:["Photo by"," ",a.jsx("a",{href:b,target:"_blank",rel:"noopener noreferrer",style:{color:"#ddd",textDecoration:"underline"},children:g})," ","on"," ",a.jsx("a",{href:"https://unsplash.com",target:"_blank",rel:"noopener noreferrer",style:{color:"#ddd",textDecoration:"underline"},children:"Unsplash"})]})]})]})}const Fa=()=>a.jsx(xe,{store:ia,children:a.jsx(Wa,{})});je.createRoot(document.getElementById("root")).render(a.jsx(Fa,{}));export{ke as A,oa as a,Ve as b,Xe as c,Je as d,Ze as e,Ue as f,Le as g,Ca as h,_e as i,Pe as j,He as k,qe as l,Qe as m,Re as n,$e as o,Me as p,We as q,aa as r,Oe as s,ua as t,Fe as u,De as v,ea as w,Ke as x,Be as y,Se as z};
